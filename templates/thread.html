{% extends "base.html" %}
{% block content %}
<h2>{{ thread.title }}</h2>
<p>By {{ thread.author.username }} on {{ thread.date }}</p>
<hr>
<div class="container">
    {% for post in posts %}
    <div class="card mb-3 border border-primary">
        <div class="card-header">
            {{ post.author.username }} on {{ post.datetime }}
        </div>
        <div class="card-body">
            {{ parse_html(post.html) | safe }}
        </div>
    </div>
    <br>
    <hr>
    {% endfor %}
</div>


<!-- Pagination links -->
{% if num_pages > 1 %}
    <div class="pagination">
        <a href="{{ url_for('thread', collection_name=collection_name, thread_id=thread['_id'], page=1) }}" class="current-page {{'disabled' if current_page == 1 else ''}}">{{ 1 }}</a>

        {% if prev_page %}
            <a href="{{ url_for('thread', collection_name=collection_name, thread_id=thread['_id'], page=prev_page) }}">&laquo; Prev</a>
        {% endif %}

        <!-- if -->
        {% if current_page != 1 and current_page != num_pages %}
            <a class="current-page disabled">{{ current_page }}</a>
        {% endif %}

        {% if next_page %}
            <a href="{{ url_for('thread', collection_name=collection_name, thread_id=thread['_id'], page=next_page) }}">Next &raquo;</a>
        {% endif %}

        <a href="{{ url_for('thread', collection_name=collection_name, thread_id=thread['_id'], page=num_pages) }}" class="current-page {{'disabled' if current_page == num_pages else ''}}">{{ num_pages }}</a>

    </div>

{% endif %}

{% endblock %}